---
csl: apa.csl
bibliography: SpringCitations.bib
---

Solar Panel Project
===================

From: Steven Spiteri, Richard Burak, and Salvatore Angilletta

Discipline: Computer Engineering Technology

Project Website: <https://steve-spiteri.github.io/>

Date of Submission: January 27th, 2017

\pagebreak

Declaration of Joint Authorship
===============================

Steven Spiteri, Richard Burak, and Salvatore Angilletta confirm that the
following work found in this technical report is a joint effort and is an
expression of our own ideas and research. All works cited are property of their
respective owners and are properly acknowledged using the APA format. Steven
Spiteri has developed the online web interface. Richard Burak has built the
MySQL database. Salvatore Angilletta was in charge of managing the Android
mobile application. Work on the hardware was distributed amongst the three of
us.

\pagebreak

Approved Proposal
=================

*Proposal for the development of a solar panel project*

Prepared by Steven Spiteri, Richard Burak, Salvatore Angilletta  
*Computer Engineering Technology Students*  
steve-spiteri.github.io

**Executive Summary**
---------------------

As student’s in the Computer Engineering Technology program, we will be
integrating the knowledge and skills we have learned from our program into this
Internet of Things themed capstone project. This proposal requests the approval
to build the hardware portion that will connect to a database as well as to a
mobile device application. The internet connected hardware will include a custom
PCB with various sensors. The database will store historical production and
weather data. The mobile device functionality will include the ability to view
the system status, DC output power overview, weather factors, past power
production data and will be further detailed in the mobile application proposal.
This semester I plan to continue working with Richard Burak and Salvatore
Angilletta, who also built similar hardware last term and have worked on the
mobile application. The hardware has been completed in CENG 317 Hardware
Production Techniques independently and the application has been completed in
CENG 319 Software Project. These will be integrated together this term in CENG
355 Computer Systems Project as a member of a 3 student group.

**Background**
--------------

The problem solved by project is how to track a solar panel system. With the
purposed hardware and companion mobile application it will allow solar panel
owner the ability to easily monitor their system status, track their power
production, view historical production data, and view weather data from a web
interface and simple mobile application.

The hardware, powered by a Broadcom development platform, will operate in series with a solar
panel system. Information will be gathered to indicate if all is well with the
system and power production overview. Multiple sensors such as temperature,
humidity, barometric sensors will be used to gather weather data. Weather data
will be available to view at a glance and historically. With this data you
understand performance variations day to day.

I have searched for prior art via Humber’s IEEE subscription selecting “My
Subscribed Content” and have found and read three which provide insight into
similar efforts.

The first journal discusses how shade can reduce power generation up to 10-20%
annually.[@6892936]

The second journal discusses low cost options for measuring solar panel defects.
[@5762585]

The third and final journal we found provides information about how extreme high
temperature can affect solar panel degradation. [@7072567]

In the Computer Engineering Technology program we have learned about the
following topics from the respective relevant courses:

-   Java Docs from CENG 212 Programming Techniques In Java,

-   Construction of circuits from CENG 215 Digital And Interfacing Systems,

-   Rapid application development and Gantt charts from CENG 216 Intro to
    Software Engineering,

-   Micro computing from CENG 252 Embedded Systems,

-   SQL from CENG 254 Database With Java,

-   Web access of databases from CENG 256 Internet Scripting; and,

-   Wireless protocols such as 802.11 from TECH152 Telecom Networks.

This knowledge and skill set will enable me to build the subsystems and
integrate them together as my capstone project.

**Methodology**
---------------

This proposal is assigned in the first week of class and is due at the beginning
of class in the second week of the fall semester. My coursework will focus on
the first two of the 3 phases of this project:  
Phase 1 Hardware build.  
Phase 2 System integration.  
Phase 3 Demonstration to future employers.

*Phase 1 Hardware build*

The hardware build will be completed in the fall term. It will fit within the
CENG Project maximum dimensions of 12 13/16" x 6" x 2 7/8" (32.5cm x 15.25cm x
7.25cm) which represents the space below the tray in the parts kit. The highest
AC voltage that will be used is 16Vrms from a wall adaptor from which +/- 15V or
as high as 45 VDC can be obtained. Maximum power consumption will be 20 Watts.

*Phase 2 System integration*

The system integration has been completed in the winter term.

*Phase 3 Demonstration to future employers*

This project will showcase the knowledge and skills that I have learned to
potential employers.

The tables below provide rough effort and non-labour estimates respectively for
each phase. A Gantt chart will be added by week 3 to provide more project
schedule details and a more complete budget will be added by week 4. It is
important to start tasks as soon as possible to be able to meet deadlines.

| **Labour Estimates**                                                                      | **Hrs**        | **Notes**                                                                                                                                                                |
|-------------------------------------------------------------------------------------------|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Phase 1**                                                                               |                |                                                                                                                                                                          |
| Writing proposal.                                                                         | 9              | Tech identification quiz.                                                                                                                                                |
| Creating project schedule. Initial project team meeting.                                  | 9              | Proposal due.                                                                                                                                                            |
| Creating budget. Status Meeting.                                                          | 9              | Project Schedule due.                                                                                                                                                    |
| Acquiring components and writing progress report.                                         | 9              | Budget due.                                                                                                                                                              |
| Mechanical assembly and writing progress report. Status Meeting.                          | 9              | Progress Report due (components acquired milestone).                                                                                                                     |
| PCB fabrication.                                                                          | 9              | Progress Report due (Mechanical Assembly milestone).                                                                                                                     |
| Interface wiring, Placard design, Status Meeting.                                         | 9              | PCB Due (power up milestone).                                                                                                                                            |
| Preparing for demonstration.                                                              | 9              | Placard due.                                                                                                                                                             |
| Writing progress report and demonstrating project.                                        | 9              | Progress Report due (Demonstrations at Open House Saturday, November 7, 2015 from 10 a.m. - 2 p.m.).                                                                     |
| Editing build video.                                                                      | 9              | Peer grading of demonstrations due.                                                                                                                                      |
| Incorporation of feedback from demonstration and writing progress report. Status Meeting. | 9              | 30 second build video due.                                                                                                                                               |
| Practice presentations                                                                    | 9              | Progress Report due.                                                                                                                                                     |
| 1st round of Presentations, Collaborators present.                                        | 9              | Presentation PowerPoint file due.                                                                                                                                        |
| 2nd round of Presentations                                                                | 9              | Build instructions up due.                                                                                                                                               |
| Project videos, Status Meeting.                                                           | 9              | 30 second script due.                                                                                                                                                    |
| **Phase 1 Total**                                                                         | **135**        |                                                                                                                                                                          |
| **Phase 2**                                                                               |                |                                                                                                                                                                          |
| Meet with collaborators                                                                   | 9              | Status Meeting                                                                                                                                                           |
| Initial integration.                                                                      | 9              | Progress Report                                                                                                                                                          |
| Meet with collaborators                                                                   | 9              | Status Meeting                                                                                                                                                           |
| Testing.                                                                                  | 9              | Progress Report                                                                                                                                                          |
| Meet with collaborators                                                                   | 9              | Status Meeting                                                                                                                                                           |
| Meet with collaborators                                                                   | 9              | Status Meeting                                                                                                                                                           |
| Incorporation of feedback.                                                                | 9              | Progress Report                                                                                                                                                          |
| Meet with collaborators                                                                   | 9              | Status Meeting                                                                                                                                                           |
| Testing.                                                                                  | 9              | Progress Report                                                                                                                                                          |
| Meet with collaborators                                                                   | 9              | Status Meeting                                                                                                                                                           |
| Prepare for demonstration.                                                                | 9              | Progress Report                                                                                                                                                          |
| Complete presentation.                                                                    | 9              | Demonstration at Open House Saturday, April 9, 2016 10 a.m. to 2 p.m.                                                                                                    |
| Complete final report. 1st round of Presentations.                                        | 9              | Presentation PowerPoint file due.                                                                                                                                        |
| Write video script. 2nd round of Presentations, delivery of project.                      | 9              | Final written report including final budget and record of expenditures, covering both this semester and the previous semester.                                           |
| Project videos.                                                                           | 9              | Video script due                                                                                                                                                         |
| **Phase 2 Total**                                                                         | **135**        |                                                                                                                                                                          |
| **Phase 3**                                                                               |                |                                                                                                                                                                          |
| Interviews                                                                                | TBD            |                                                                                                                                                                          |
| **Phase 3 Total**                                                                         | **TBD**        |                                                                                                                                                                          |
| **Material Estimates**                                                                    | **Cost**       | **Notes**                                                                                                                                                                |
| **Phase 1**                                                                               |                |                                                                                                                                                                          |
| Raspberry Pi 3 Kit                                                                        | \$119.99       | [CanaKit](https://www.amazon.ca/CanaKit-Raspberry-Ultimate-Starter-Kit/dp/B01CCF9BYG/ref=sr_1_3?ie=UTF8&qid=1474395691&sr=8-3&keywords=raspberry+pi)                     |
| Barmetric Pressure Sensor                                                                 | \$8.33         | [RobotShop](http://www.robotshop.com/ca/en/octopus-barometric-pressure-sensor-brick.html)                                                                                |
| DHT-11 Sensor Breakout                                                                    | \$4.04         | [RobotShop](http://www.robotshop.com/ca/en/electronic-brick-humidity-temperature-sensor.html)                                                                            |
| 6V Solar Cell                                                                             | \$5.95         | [Sayal](http://www.sayal.com/STORE/View_SPEC.asp?SKU=237344)                                                                                                             |
| Safety Glasses                                                                            | \$5.04         | [Pyramex](https://www.amazon.ca/Pyramex-Mini-S2510SN-Safety-Glasses/dp/B000NP5D3G/ref=sr_1_4?ie=UTF8&qid=1480724554&sr=8-4&keywords=safety+glasse)                       |
| Lead Free Solder (10g)                                                                    | \$4.49         | [RobotShop](http://www.robotshop.com/ca/en/lead-free-solder-wire-10g-tube.html)                                                                                          |
| Soldering Iron (25W)                                                                      | \$6.80         | [RobotShop](http://www.robotshop.com/ca/en/elenco-sr-1-standard-25w-pencil-soldering-iron.html)                                                                          |
| Soldering Iron Holder                                                                     | \$4.56         | [RobotShop](http://www.robotshop.com/ca/en/elenco-soldering-iron-holder.html)                                                                                            |
| 5-pin PCB Header (female)                                                                 | \$0.89         | [Digi-Key](http://www.digikey.ca/product-detail/en/sullins-connector-solutions/PPTC051LFBN-RC/S6103-ND/807239)                                                           |
| 2x20 GPIO Header                                                                          | \$9.99         | [Adafruit](https://www.amazon.ca/GPIO-Stacking-Header-Pi-Extra-long/dp/B00TW0W9HQ/ref=sr_1_2?ie=UTF8&qid=1480734825&sr=8-2&keywords=gpio+header)                         |
| Humber PCB Components Kit                                                                 | \~\$40.00      | [Humber College - Prototype Lab](http://humber.zone/)                                                                                                                    |
| Custom PCB                                                                                | **TBD**        | [Humber College - Prototype Lab](http://humber.zone/)                                                                                                                    |
| Laser-cut Acrylic Box                                                                     | **TBD**        | [Humber College - Prototype Lab](http://humber.zone/)                                                                                                                    |
| Digital Multimeter                                                                        | \$14.59        | [RobotShop](http://www.robotshop.com/ca/en/m-1000e-compact-digital-multimeter.html)                                                                                      |
| M2.5 Screws/Standoffs                                                                     | \$11.99 (Bulk) | [HVAZI](https://www.amazon.com/HVAZI-Standoff-Stainless-Assortment-Male-Female/dp/B01L06CUJG/ref=sr_1_5?s=industrial&ie=UTF8&qid=1480722221&sr=1-5&keywords=m2.5+screws) |
| **Phase 1 Total**                                                                         | **\$​267.43**   |                                                                                                                                                                          |
| **Phase 2**                                                                               |                |                                                                                                                                                                          |
| Laser-cut Acrylic Top of Box                                                              | **TBD**        | [Humber College - Prototype Lab](http://humber.zone/)                                                                                                                    |
| **Phase 2 Total**                                                                         | **TBD**        |                                                                                                                                                                          |
| **Phase 3**                                                                               |                |                                                                                                                                                                          |
| Off campus colocation                                                                     | *TBD*          |                                                                                                                                                                          |
| *Shipping*                                                                                | *TBD*          |                                                                                                                                                                          |
| *Tax*                                                                                     | *TBD*          |                                                                                                                                                                          |
| *Duty*                                                                                    | *TBD*          |                                                                                                                                                                          |
| **Phase 3 Total**                                                                         | **TBD**        |                                                                                                                                                                          |

**Concluding remarks**
----------------------

This proposal presents a plan for providing an IoT solution for the difficulty
accessing solar panel data. This is an opportunity to integrate the knowledge
and skills developed in our program to create a collaborative IoT capstone
project. I request approval of this project.

\pagebreak

Abstract
========

Home owners, who posses solar power generation systems, have difficulty easily
accessing power production information and determining the effect of
environmental elements. To address this, a product must be created to assist in
the monitoring and collection of data to clearly determine power production and
its relationship with weather factors. This product monitors solar cell voltage
generation, surrounding temperature, light levels, barometric pressure, and
humidity. Data retrieved from the sensors is processed on the Broadcom
development platform before being sent to a co-located database. Each entry in
the database has a date and time associated with it to provide context. The
database stores the sensor data and is accessed by both the Android mobile
application and the online web interface. The Android mobile application
displays the data in an easy-to-read manner for the end user with the option to
view it in a graph. The online web interface provides the same functionality
with a more interactive approach. This product has the potential to enhance
solar panel ownership and research by allowing users to intuitively manage their
solar power generation system.

\pagebreak

Table of Contents
=================

Approved Proposal

    Executive Summary

    Background

    Methodology

    Concluding Remarks

Abstract

Illustrations/Diagrams

[1.] Introduction

[2.] Project Description

    [2.1] Software Requirements Specifications

        [2.1.1] Production Introduction

            [2.1.1.1] Purpose

            [2.1.1.1] Intended Audience

            [2.1.1.3] Product Scope

        [2.1.2] Overall Description

            [2.1.2.1] Product Perspective

            [2.1.2.2] Product Functions

            [2.1.2.3] User Classes and Characteristics

            [2.1.2.4] Operating Environment

            [2.1.2.5] User Documentation

        [2.1.3] External Interface Requirements

            [2.1.3.1] Database

            [2.1.3.2] Mobile Application

            [2.1.3.3] Web Interface

            [2.1.3.4] Additional Hardware

        [2.1.4] Other Non-Functional Requirements

            [2.1.4.1] Safety Requirements

            [2.1.4.2] Security Requirements

[3.] Schedule/Progress Reports

    [3.1] Schedule

    [3.2] Progress Reports

[3.2.1] Progress Report DD/MM/YY

[3.2.2] Progress Report DD/MM/YY

[4.] Hardware Build Instructions

[5.] Progress Reports

[6.] Conclusion

[7.] Recommendations

 

 

\pagebreak

Illustrations/Diagrams
======================

 

\pagebreak

1. Introduction
===============

In the current marketplace home owners, who posses solar power generation
systems, have difficulty easily accessing power production information and
determining the effect of environmental elements. Home owners have adopted a
relatively new technology and should be confident in knowing that information
regarding it is always available. Since this product automates the collection
and distribution of the data, the responsibility of the home owner is minimized.

With this product it will grant solar panel owners the ability to easily monitor
their system status, track their power production, view historical production
data, and view weather data from an interactive display and simple mobile
application.

The hardware, powered by a Broadcom development platform, will operate in series
with a solar panel system. Information will be gathered to indicate if all is
well with the system and power production overview. Multiple sensors such as
light, temperature, humidity, barometric pressure sensors will be used to gather
weather data. Weather data will be available to view at a glance and
historically.

This product uses an off-site database which can be accessed through both the
online web interface and Android mobile application. This will allow the end
user to monitor their solar panel power generation system from a remote
location.

A goal when creating this product was to follow a tight budget so the cost of
building it has remained relatively low. The price for consumers should remain
low and researchers will have a low-cost monitoring solution.

Following AGPLv3, all of our source code will be made available online for
public viewing. This is due to the Android application using GraphView and our
firmware using Adafruit Python libraries.

\pagebreak

2. Product Description
======================

2.1 Software Requirements Specifications
----------------------------------------

2.1.1 Product Introduction
--------------------------

 

### 2.1.1.1 Purpose

This product is to be used in tandem with a solar power generation system. It is
meant to enhance solar panel ownership by providing an intuitive way of
gathering and examining data for both home owners and researchers.

 

### 2.1.1.2 Intended Audience

This document is intended for industry professionals and educational
institutions for research and evaluation.

 

### 2.1.1.3 Product Scope

The product is built using a Broadcom development platform to interface with a
solar cell and a variety of sensors. All of the data is gathered using these
on-board sensors, which collect information about the humidity, temperature,
barometric pressure, and light level around the hardware. Because the power
generation of the solar cell is also tracked, it can be correlated with the
weather data and used to further our research into solar energy.

 

2.1.2 Overall Description
-------------------------

 

### 2.1.2.1 Product Perspective

This product is aimed to be a new way to gather and display data from any
existing solar power generation system.

 

### 2.1.2.2 Product Functions

The various sensors are tasked with gathering the raw data. The DHT-11 is used
for humidity, the BMP085 for barometric pressure and temperature, the YL-40 for
light-levels, and finally a solar cell may be connected and have its voltage
generation measured. The development platform contains software to convert this
raw data into readable values. These values are then uploaded to a remote
database for future access. This database can be read using either the Android
application or the online web interface.

 

### 2.1.2.3 User Classes and Characteristics

The expected user of this product is any homeowner with a private solar power
generation system. The software interface is geared towards being simple and
accessible for casual smartphone users. A secondary user base can include
researchers looking to further work in solar panel technology.

 

### 2.1.2.4 Operating Environment

The mobile application must run on Android API 19 and above, on either a
smartphone or tablet device. The software running on the development platform is
designed to work with a Linux-based operating system. Finally, the database uses
MySQL and is accessed with PHP scripts.

 

### 2.1.2.5 User Documentation

Users will have access to hardware build instructions that provide a
step-by-step guide for putting the product together. Instructions for the Linux
software configuration are included as part of the build instructions.

 

2.1.3 External Interface Requirements
-------------------------------------

 

### 2.1.3.1 Database

The MySQL database will run on a co-located free-hosting website. The database
will use phpMyAdmin to for administrative interaction on the front-end. The
information contained includes formatted data downloaded from the development
platform. There are two tables, one with a username and password for the Android
app users, and on with entries for all the weather data collected (power,
temperature, light, barometric pressure, humidity, and time). The database will
be populated by data downloaded from the hardware.

(Developed by Richard Burak)

 

### 2.1.3.2 Mobile Application

The mobile application, available on Android platforms, will take the data from
the MySQL database and temporarily store it on the target device in memory. It
will display the data in an easy-to-read manner for the end user. There is the
option to view the data in a graph. The user can customize to see a different
range of historical data. The application has a total of three activities:
login, main and a settings. The login activity allows the user to log into an
account and have access to their data. The main activity has two areas; The main
area contains the user’s homepage and the other contains the graph. The settings
activity allows the user to change the temperature notation from Celsius to
Fahrenheit.

(Developed by Salvatore Angilletta)

 

### 2.1.3.3 Online Web Interface

An online web interface will be developed and mirror the functionality of the
mobile application. After the user logs in they will have access to their data
in an easy-to-read manner. On a single page, the web interface will contain the
users most recent data and a table containing historical data. An option will be
available for the user to change the temperature notation from Celsius to
Fahrenheit.

(Developed by Steven Spiteri)

 

### 2.1.3.4 Additional Hardware

A new top for the product casing will be laser cut to allow mounting of the
solar cell and allow routing for the solar cell connection.

 

(Developed by Steven Spiteri, Richard Burak, and Salvatore Angilletta)

 

2.1.4 Other Non-Functional Requirements
---------------------------------------

 

### 2.1.4.1 Safety Requirements

-   This product shall only be connected to an external power supply rated at 5
    Volts DC.

-   This product is intended to accompany solar power generation systems,
    therefore requires a trained professional when dealing with high voltage
    equipment.

-   To avoid malfunction or damage do not expose it to water, moisture or place
    on a conductive surface whilst in operation.

-   Do not use this product for anything outside it’s intended purpose.

 

### 2.1.4.2 Security Requirements

-   Do not share your identity authentication and password.

-   Keep software up-to-date to ensure proper operation.

 

\pagebreak

3. Progress Reports
===================

 

\pagebreak

4. Hardware Build Instructions

4.1 Build Introduction
----------------------------------------


This section contains all the knowledge nesscessary in order to reproduce the solar panel project. An individual should be able to 
recreate this product by following these instructions. Before continuing with this section, be sure to remember all proper safety
procedures when interacting with computer hardware and electrical components.


4.2 Basic System Overview
----------------------------------------

The system will require the input from the sensors, which will recieve their input from the physical environment surrounding them.
The data must then be processed and converted to values that are readable and relevant. Once these number values are obtained, they will
be displayed on demand, or whenever a user requests it. 


4.3 Budget and Materials
----------------------------------------

TO be done with texts

4.4 Time Commitment
----------------------------------------

TO be done with texts

4.5 Development Platform Setup
----------------------------------------

Once the Broadcom development platform has been aquired, begin by connecting it to a display. Next, connect the keyboard and mouse. You 
can now plug the development platform into power and begin configuring the operating system. The setup will be explained on screen, and 
you may begin using the development platform once it has completed.
In the top right-hand corner of the screen, select the network you want the development platform to automatically connect to when it boots 
up (skip this step if the device is using a wired connection). Be sure to make note of the IP address, as it may be required later if 
remotely connecting to the device. The IP can be found by hovering the mouse over the WiFi symbol on the top-right.
Once connected to the internet, open the command line terminal and run the following command:

 sudo apt-get update

This will update the development platform to the most recent version. This is important, as security updates are required to keep the 
device safe.
Next, SSH must be enabled by default, otherwise you will not be able to remotely access the development platform. To ensure SSH starts 
when the development platform is booted up, run this in the command line:

 mv /boot/boot_enable_ssh.rc /boot/boot.rc

Now that SSH is enabled, VNC must be installed and enabled. VNC allows users to navigate the GUI of the development platform remotely. To 
install this, run the following commands:

 sudo install tightvncserver
 tightvncserver

Setup a password for VNC when asked. You will now be able to run VNC server by accessing the development platform through SSH, then 
interface using any VNC client.
To prepare the development platform for use with the sensors, I2C must be enabled. To do this, start by running the following command:

 sudo raspi-config

Use the arrow keys to navigate to advanced options and hit enter. Once there, navigate to I2C and hit enter again. Select "Yes" to have 
I2C enabled on the development platform.
Next, we must prepare the Python program used to interface with the sensors. The program below (solar.py) will show the data gathered by 
the sensors in the circuit. It will not successfully run until all the sensors have been tested and connected.
Simply place the file in any directory on the development platform.

With the development platform now configured, we can move on to the hardware part of this project. 


4.6 PCB Soldering/Testing
----------------------------------------

The main PCB that holds the I2C circuits, called the Modular Sensor Hat, was provided by Humber College. The board must first be printed, 
and the components aquired (from the Prototype Lab in J building). Solder the components provided according to the Eagle .brd and .sch 
files. Be sure to wear safety glasses while soldering, and consider all aspects of your own (and others') safety.

Caution: There is a problem with the Modular Sensor Hat, we have included a quote from our instructor regarding the problem below.

    "RTC module can charge the CR2032 battery causing damage. To permanently disable the charging circuit, please remove the 200 ohm 
    surface mount resistor near the unused I2C header by pushing it off the PCB with a hot soldering iron." 

Since this project is not using the RTC, it should not cause a problem, but it is something to keep in mind when building.

Next, the additional Custom PCB must be printed and soldered. The materials required for this step are as follows:

    10K Resistor (From Pi Starter Kit)
    5-pin Header (x2)
    2x20 pin GPIO Header
    Short pieces (~2cm) of 22 gauge wire (x3)

The final step with the boards is to ensure all the connections are working before connecting them. If faulty boards are connected to 
sensors (or the development platform) they can cause permanent damage to either. Save youself time (and money) by making sure they work 
before continuing. To do this, power and ground the boards first. Apply 3.3V to pin 1, and ground pin 6. Now we need the digital 
multimeter. Connect the multimeter to the same ground as the development platform, and use the other connection to probe the different 
parts of the circuit. Measure both resistance and voltage, to make sure the values are correct. If any problems are detected, resoldering 
may be required. If the boards pass all the tests, then you are ready to move on. 


4.7 Unit Testing Sensors
----------------------------------------

To test the sensors, first connect the Modular Sensor Hat to your development platform. Next, connect the barometric pressure sensor to 
the 4-pin header labelled "DS-RTC", making sure to match the labels on the board and breakout. Next, connect the YL-40 board provided in 
the Humber components pack to the neighbouring 4-pin header labelled "PCF - ADC", also making sure to match the labels.
Back on the development platform, run the following command to test the connection to the sensors:

 i2cdetect -y 1

The output should contain 48 and 77. To test the Solar Cell, simply connect it to a multimeter and measure how much voltage is being 
generated. Try covering it and moving it closer to light to see if the readings varry. Finally, to test the DHT-11, connect it to the Pi's 
GPIO. Make sure to correctly connect ground and power, as the DHT is fragile. Connect the pin labelled 'S' to pin 7 of the GPIO. In the 
solar.py file, comment out lines 26-32. This will mean that only the DHT will be read from. Run the program using:

 python solar.py

If the DHT is functioning, then readings will appear on screen, otherwise the program will fail to run.
If all of the sensors are functioning, you are ready to connect the circuit.

4.8 Connecting the Circuit
----------------------------------------

 In this step, the mechanical assembly will be complete. The components required here are:

    Broadcom development platform
    Modular Sensor Hat
    Custom PCB
    DHT-11 Humidity & Temperature Sensor
    BMP180 Barometric Pressure Sensor
    YL-40 Breakout Board
    6V Solar Cell
    Male-to-female Prototyping Wire (From Canakit Starter Kit)

To assemble the project, follow these steps:

    Disconnect the development platform from power
    Connect the BMP180 and YL-40 to the Modular Sensor Hat, the same way when you were testing
    Install the Modular Sensor Hat on the development platform 3 GPIO header. Connect it so that the Sensor Hat hovers over the 
    development platform, and does not extend beyond it
    Stack the Custom PCB with the Sensor Hat. This time, make sure the Custom PCB hangs over the edge of the development platform, and 
    does NOT hover over the Sensor Hat
    Look at the Custom PCB board file. Connect the DHT-11 to the right-hand 5-pin header. Looking at the DHT-11 breakout board, make sure 
    that the pins go into the correct header input. Make sure it is properly inserted by following the traces to the GPIO header (G to pin 
    6, V to pin 1, S to pin 7)
    Connect the Solar Cell to the left-hand 5-pin header. The black wire (ground) should plug into the right-most header input (which is 
    connected to GPIO pin 6). The red wire can connect to either header input connected to the 10K resistor
    Connect the male end of the prototyping wire to the remaining resistor-connected header input. This will be used to probe the Solar 
    Cell. The female end should connect to AIN2 on the top of the YL-40, which leads to an analog-to-digital converter.

Double-check the connections to make sure they are correct. Once you are sure, power up the development platform. Once the development 
platform has booted up, edit the solar.py file again, removing the comment you made in Step 3. Run the program again, and you should see a 
flow of readings on the screen. You should see the LED on the Sensor Hat light up green when everything is working 
fine. If it lights up red, that means a sensor is not connected properly. With a functioning piece of hardware, it is time to make a nice 
box to put it in. 

4.9 Box Creation and Final Assembly
----------------------------------------

It is recommended that clear 3mm acrylic is used for the process, but any colour/transparency can be used. To print my box, we used 
Humber's Prototype Lab, and the helpful staff setup and laser-cut the box for us. It is recommended that you go to them, or find another 
professional service, to have the box cut.

Once the box has been cut, use acrylic glue to put everything (except the top) together. Be careful when using the glue, as it may contain 
harmful chemicals. Once everything has dried, you may begin to mount the development platform in the box. The full drying process may take 
up to 24 hours, but keep an eye on it The picture above has the colour-coded bars to represent the sides that go together. Just follow the 
lines and make sure the development platform's IO is accessible when in the box.

The M2.5 kit is required for this step, and you will make sure the development platform is mounted on the standoffs with its IO ports 
facing the cutouts provided. Before securing the development platform, remove the Modular Sensor Hat from the development platform. Make 
sure the development platform is securely mounted (but not too tight) before reconnecting the circuit. Briefly disconnect the Solar Cell, 
and reconnect it by feeding the red and black wire through the holes in the side of the box. The Solar Cell must rest outside of the box 
to make sure it generates optimal power. Now just put the top on (do not glue) and the build is complete. If the circuit is too tall, you 
may carefully bend the DHT-11 and AIN2 pin on the YL-40 to accomodate.

4.10 Build Conclusion
----------------------------------------

 By following this guide, you should be able to reproduce this project with relative ease. While the current construction and parts are 
 great for small scale use and production (student projects, prototyping), but improvements can be made that can make production cheaper 
 and quicker.

The Modular Sensor Hat was provided as a general IO board, containing componenets that can be used for many different sensors and 
applications. This can be scaled down and combined with the Custom PCB to reduce the amount of wasted PCB material and un-needed 
components. This will reduce the cost, time to produce, and size of the project. Next, efforts can be made to get the components cheaper 
and separate. The Canakit Starter Kit is expensive, and not all of the parts are used. Finally, with the smaller scale of the 
project, the box can be made smaller. Again, smaller means less acrylic is used, and the cost is reduced. 

=============

 

\pagebreak

5. Recommendations
==================

 

\pagebreak

6. Bibliography
===============
